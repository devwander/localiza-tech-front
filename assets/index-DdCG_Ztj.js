import{j as e,C as n}from"./index-floZrh2J.js";import{u as t,T as l,S as o}from"./Toolbar-znUDGrUm.js";function c(){const r=t();return e.jsxs("div",{className:"min-h-screen bg-gray-100 flex flex-col",children:[e.jsx("header",{className:"bg-white shadow-sm border-b",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsx("div",{className:"flex items-center",children:e.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Mapeador de Feira"})}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("button",{onClick:r.saveMap,className:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"ðŸ’¾ Salvar"}),e.jsxs("label",{className:"inline-flex items-center px-3 py-2 border border-gray-300 text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 cursor-pointer",children:["ðŸ“‚ Carregar",e.jsx("input",{type:"file",accept:".json",onChange:s=>{const a=s.target.files?.[0];a&&r.loadMap(a).catch(console.error),s.target.value=""},className:"sr-only"})]}),e.jsxs("label",{className:"inline-flex items-center px-3 py-2 border border-gray-300 text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 cursor-pointer",children:["ðŸ–¼ï¸ Planta (Rascunho)",e.jsx("input",{type:"file",accept:"image/*",onChange:s=>{const a=s.target.files?.[0];a&&r.uploadBackgroundImage&&r.uploadBackgroundImage(a).catch(console.error),s.currentTarget.value=""},className:"sr-only"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"range",min:0,max:1,step:.05,value:r.backgroundMeta?.opacity??.5,onChange:s=>r.setBackgroundOpacity?.(Number(s.target.value)),className:"w-32"}),e.jsx("button",{onClick:()=>r.removeBackgroundImage?.(),title:"Remover rascunho",className:"px-2 py-1 text-sm border rounded-md bg-red-50 text-red-700",children:"Remover"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:r.debugMode,onChange:r.toggleDebugMode,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Debug"})]})]})]})})}),e.jsx(l,{currentTool:r.currentTool,currentLayer:r.currentLayer,onToolChange:r.setTool,onLayerChange:r.setDrawMode}),e.jsxs("div",{className:"flex-1 flex",children:[e.jsx("div",{className:"flex-1 p-4",children:e.jsx("div",{className:"bg-white rounded-lg shadow-sm border overflow-hidden",children:e.jsx(n,{canvasRef:r.canvasRef})})}),e.jsx(o,{layers:r.layers,selectedElement:r.selectedElement,debugMode:r.debugMode,debugInfo:r.debugInfo,onUpdateElement:r.updateElement,onDeleteElement:r.deleteElement})]})]})}function m(){return e.jsx("div",{className:"min-h-screen",children:e.jsx(c,{})})}export{m as Mapping};
